<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Advice for machine learning"><title>Rules of Machine Learning</title>
<link rel=canonical href=https://maosong2022.github.io/p/rules-of-machine-learning/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Rules of Machine Learning"><meta property='og:description' content="Advice for machine learning"><meta property='og:url' content='https://maosong2022.github.io/p/rules-of-machine-learning/'><meta property='og:site_name' content="Mao Song(ÊØõÊùæ)'s Homepage"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2024-04-13T19:57:47+08:00'><meta property='article:modified_time' content='2024-04-13T19:57:47+08:00'><meta name=twitter:title content="Rules of Machine Learning"><meta name=twitter:description content="Advice for machine learning"><link rel="shortcut icon" href=/favicon.png></head><script async src=https://scripts.simpleanalyticscdn.com/latest.js></script><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu9788782091159651930.jpg width=300 height=240 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>Mao Song(ÊØõÊùæ)'s Homepage</a></h1><h2 class=site-description>Never stop learning.</h2></div></header><ol class=menu-social><li><a href=https://b23.tv/a0Bb9Z1 target=_blank title=bilibili rel=me><svg role="img" viewBox="0 0 24 24"><title>Bilibili</title><path d="M17.813 4.653h.854c1.51.054 2.769.578 3.773 1.574 1.004.995 1.524 2.249 1.56 3.76v7.36c-.036 1.51-.556 2.769-1.56 3.773s-2.262 1.524-3.773 1.56H5.333c-1.51-.036-2.769-.556-3.773-1.56S.036 18.858.0 17.347v-7.36c.036-1.511.556-2.765 1.56-3.76 1.004-.996 2.262-1.52 3.773-1.574h.774l-1.174-1.12a1.234 1.234.0 01-.373-.906c0-.356.124-.658.373-.907l.027-.027c.267-.249.573-.373.92-.373s.653.124.92.373L9.653 4.44c.071.071.134.142.187.213h4.267a.836.836.0 01.16-.213l2.853-2.747c.267-.249.573-.373.92-.373s.662.151.929.4.391.551.391.907c0 .355-.124.657-.373.906zM5.333 7.24c-.746.018-1.373.276-1.88.773-.506.498-.769 1.13-.786 1.894v7.52c.017.764.28 1.395.786 1.893.507.498 1.134.756 1.88.773h13.334c.746-.017 1.373-.275 1.88-.773.506-.498.769-1.129.786-1.893v-7.52c-.017-.765-.28-1.396-.786-1.894-.507-.497-1.134-.755-1.88-.773zM8 11.107c.373.0.684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c0-.373.129-.689.386-.947.258-.257.574-.386.947-.386zm8 0c.373.0.684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c.017-.391.15-.711.4-.96.249-.249.56-.373.933-.373z"/></svg></a></li><li><a href=https://github.com/MaoSong2022 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href='https://scholar.google.com/citations?user=BaqGkQQAAAAJ' target=_blank title="Google Scholar" rel=me><svg role="img" viewBox="0 0 24 24"><title>Google Scholar</title><path d="M5.242 13.769.0 9.5 12 0l12 9.5-5.242 4.269C17.548 11.249 14.978 9.5 12 9.5c-2.977.0-5.548 1.748-6.758 4.269zM12 10a7 7 0 100 14 7 7 0 000-14z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>About</span></a></li><li><a href=/tags/><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#monitoring>Monitoring</a></li><li><a href=#your-first-objective>Your first objective</a></li></ol><ol><li><a href=#human-analysis-of-the-system>Human analysis of the system</a></li><li><a href=#training-serving-skew>Training-Serving skew</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/machine-learning/>Machine Learning</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/rules-of-machine-learning/>Rules of Machine Learning</a></h2><h3 class=article-subtitle>Advice for machine learning</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 13, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p>Best practice for machine learning.</p><h1 id=introduction>Introduction</h1><p>Google posts a guide on how to uses machine learning in practice.
It represents a style for machine learning, similar to Google C++ Style Guide.</p><p>In overview, to make great products:</p><blockquote><p>Do machine learning like the great engineer your are, not like the great machine learning expert you are.</p></blockquote><p>Most algorithms we are facing are engineering problems instead of machine learning algorithms. A basic approach Google recommends is:</p><ol><li>Make sure your pipeline is solid end to end</li><li>Start with a reasonable objective</li><li>Add a common-sense features in a simple way</li><li>Make sure that your pipeline stays solid.</li></ol><p>Google separates rules with respect to different stages.</p><h1 id=before-machine-learning>Before machine learning</h1><p>These rules help us understand whether the time is right for building a machine learning system.</p><blockquote><p>Rule #1: Do not be afraid of lunch a product without machine learning.</p></blockquote><p>This rule tells us that is not absolutely necessary, if rule-based methods work well, there is no need to develop a machine learning algorithm.</p><blockquote><p>Rule #2: First, design and implement metrics.</p></blockquote><p>This rule tells us that tracking as much as possible before we formalize what our machine learning system will do. This step helps us construct the goal of our system, that is, a metric.</p><blockquote><p>Rule #3: Choose machine learning over a complex heuristic.</p></blockquote><p>Considering using machine learning algorithms only if the heuristic algorithm doesn&rsquo;t work well, since a complex heuristic is not maintainable. Meanwhile, machine-learned models are easier to update and maintain.</p><h1 id=ml-phase-1-your-first-pipeline>ML phase 1: Your First Pipeline</h1><p>When creating our first pipeline, we should focus on our system infrastructure</p><blockquote><p>Rule #4: Keep the first model simple and get the infrastructure right.</p></blockquote><p>Remember infrastructure issues are many more than model problems when we creating the first machine learning model. We have to determine:</p><ol><li>How to obtain data for our model</li><li>How to evaluate the performance of our model</li><li>How to integrate our model into our application</li></ol><p>Moreover, we should choose simple features to ensure that:</p><ul><li>The features reach our learning algorithm correctly</li><li>The model learns reasonably weights</li><li>The features reach our model in the sever correctly</li></ul><p>Once we have a system that does above things reliably, we have done most of the work.</p><blockquote><p>Rule #5: Test the infrastructure independently from the machine learning.</p></blockquote><p>This rule tells us split the infrastructure and the machine learning model and test them separately to avoid dependency issue occurs. In this way, our model can be developed without worrying about environment. Specifically:</p><ol><li>Test getting data into algorithm. Check the data that are feed into the models and do some statistics before using the data</li><li>Testing getting models out of the training algorithm. Make sure our algorithms work in the same way in our serving environment as the training environment.</li></ol><blockquote><p>Rule #6: Be careful about dropped data.</p></blockquote><p>Do not drop data without thoroughly test, this may data loss.</p><blockquote><p>Rule #7: Turn heuristics into features, or handle them externally.</p></blockquote><p>Before using machine learning models, if we have tried some heuristic algorithms, then these algorithms may help us to improve the overall performance. Some ways we can use an existing heuristic algorithm:</p><ol><li>Preprocessing using the heuristic. If the feature is incredibly awesome, then do not try to relearn the feature. Just use the heuristic way to pre-process the data.</li><li>Create a feature. We can use the heuristic way to create a new feature to help improve the machine learning performance.</li><li>Mine the raw inputs of the heuristic. We can use the inputs of heuristic as features to learn the heuristic implicitly.</li><li>Modify the label.</li></ol><h2 id=monitoring>Monitoring</h2><p>In general, such as making alerts and having a dashboard page.</p><blockquote><p>Rule #8: Know the freshness requirements of our system.</p></blockquote><p>It is important for us to know the freshness of our model, for example, how much does performance degrade if we have a model that is a day old. The freshness helps us monitor and improve the performance.</p><blockquote><p>Rule #9: Detect problems before exporting models.</p></blockquote><p>This rule tells us that evaluating the performance of the model before serving. The evaluation includes the testing on hold-out data, check AUC metric.</p><blockquote><p>Rule #10: Watch for silent failures.</p></blockquote><p>Since the continuos change of data, silent failures may occur, so keep tracking statistics of the data as well as manually inspect the data on occasion help us reduce these kind of issues.</p><blockquote><p>Rule #11: Give feature owners and documentation.</p></blockquote><p>Knowing who created the feature helps us gain information about data. A detailed documentation helps user understand how it works.</p><h2 id=your-first-objective>Your first objective</h2><blockquote><p>Rule #12: Don&rsquo;t overthink which objective you choose to optimize.</p></blockquote><p>There are many metrics to optimize according to Rule #2. However, it turns out in early stage, some metrics are optimized even though we not directly optimizing them.</p><blockquote><p>Rule #13: Choose simple, observable and attributable metric for your first objective.</p></blockquote><p>This rule tells us the strategy of choosing metric in the beginning. In principal, The ML objective should be something that is easy to measure and is a proxy for the &ldquo;true&rdquo; objective. In fact however, there is no such &ldquo;true&rdquo; objective, so we should keep the objective as simple as possible, it&rsquo;s better if the objective is observable. Then, we can modify the objective based on the performance of the model.</p><blockquote><p>Rule #14: Starts with an interpretable model makes debugging easier.</p></blockquote><blockquote><p>Rule #15: Separate spam filtering and quality ranking in a policy layer.</p></blockquote><p>Sometimes, spam filtering confuses quality ranking, when we do quality ranking, we should clean the data.</p><h1 id=ml-phase-2-feature-engineering>ML phase 2: Feature engineering</h1><p>After we have a working end to end system with unit and system tests instrumented, Phase II begins.
In this phase, we should make use of features.</p><blockquote><p>Rule #16: Plan to lunch and iterate.</p></blockquote><p>There are three reasons to lunch new models:</p><ol><li>You are coming up with new features</li><li>You are tuning regularization and combining old features in new ways</li><li>You are tuning the objectives</li></ol><p>When lunch a new model, we should think about:</p><ol><li>How easy is it to add or remove or recombine features</li><li>How easy is it to create a fresh copy of the pipeline and verify its correctness.</li><li>Is it possible to have two or three copies running in parallel.</li></ol><blockquote><p>Rule #17: Start with directly observed and reported features as opposed to learned features.</p></blockquote><p>a learned feature is a feature generated by an external system or by the learner itself.
If the learned feature comes from an external system, then bias or being out-of-date may affect the model. If the learned feature comes from the learner itself, then it is hard to tell the impact of the feature.</p><blockquote><p>Rule #18: Explore with features of content that generalize across contexts.</p></blockquote><blockquote><p>Rule #19: Use very specific features when you can.</p></blockquote><p>It is simpler to learn millions of simple features than a few complex features.</p><blockquote><p>Rule #20: Combine and modify existing features to create new features in human-understanding ways.</p></blockquote><p>Combine features may causing overfitting problems</p><blockquote><p>Rule #21: The number of feature weights we can learn in a linear model is roughly proportional to the number of data you have.</p></blockquote><blockquote><p>Rule #22: Clean up features you are no longer using.</p></blockquote><p>If you find that you are not using a feature, and that combining it with other features is not working, then drop it out of your infrastructure.</p><h2 id=human-analysis-of-the-system>Human analysis of the system</h2><p>This subsection teaches us how to look at an existing model and improve it.</p><blockquote><p>Rule #23: You are not a typical end user.</p></blockquote><p>Check carefully before we deploying the model.</p><blockquote><p>Rule #24: Measure the delta between models</p></blockquote><p>Make sure the system is stable when making small changes. Make sure that a model when compared with itself has a low (ideally zero) symmetric difference.</p><blockquote><p>Rule #25: When choosing models, utilitarian performance trumps predictive power.</p></blockquote><blockquote><p>Rule #26: Look for patterns in the measured errors, and create new features.</p></blockquote><p>Once you have examples that the model got wrong, look for trends that are outside your current feature set.</p><blockquote><p>Rule #27: Try to quantify observed undesired behavior</p></blockquote><p>If your issues are measurable, then you can start using them as features, objectives, or metrics. The general rule is &ldquo;<strong>measure first, optimize second</strong>&rdquo;.</p><blockquote><p>Rule #28: Be aware that identical short-term behavior does not imply identical long-term behavior.</p></blockquote><h2 id=training-serving-skew>Training-Serving skew</h2><p>Training-serving skew is a difference between performance during training and performance during serving.
This skew can be caused by:</p><ol><li>A discrepancy between how you handle data in the training and serving pipelines</li><li>A change in the data between when you train and when you serve</li><li>A feedback loop between your model and your algorithm.</li></ol><p>The best solution is to explicitly monitor it so that system and data changes don&rsquo;t introduce skew unnoticed.</p><blockquote><p>Rule #29: The best way to make sure that you train like you serve is to save the set of features used at the serving time, and then pipe those features to a log to use them at training time.</p></blockquote><p>This can help verify the consistency between the training and serving.</p><blockquote><p>Rule #30: Importance-weight sampled data, don&rsquo;t arbitrarily drop it.</p></blockquote><p>Importance weighting means that if you decide that you are going to sample example X with a 30% probability, then give it a weight of 10/3. With importance weighting, all of the calibration properties discussed in Rule #14 still hold.</p><blockquote><p>Rule #31: Beware that if your join data from a table at training and serving time, the data in the table may change.</p></blockquote><blockquote><p>Rule #32: Re-use code between your training pipeline and your serving pipeline whenever possible.</p></blockquote><blockquote><p>Rule #33: If you produce a model based on the data until January 5th, test the model on the data from January 6th and after.</p></blockquote><p>In general, measure performance of a model on the data gathered after the data you trained the model on, as this better reflects what your system will do in production</p><blockquote><p>Rule #37: Measure Training-Serving Skew.</p></blockquote><p>We can divide causes of Training-Serving Skew into several parts:</p><ol><li>The difference between the performance on the training data and the holdout data. In general, this will always exist, and it is not always bad.</li><li>The difference between the performance on the holdout data and the &ldquo;next¬≠day&rdquo; data. Again, this will always exist</li><li>The difference between the performance on the &ldquo;next-day&rdquo; data and the live data.</li></ol><h1 id=ml-phase-3-slowed-growth-optimization-refinement-and-complex-models>ML phase 3: Slowed growth, Optimization refinement, and complex models</h1><blockquote><p>Rule #38: Don‚Äôt waste time on new features if unaligned objectives have become the issue.</p></blockquote><blockquote><p>Rule #39: Launch decisions are a proxy for long-term product goals.</p></blockquote><p>The only easy launch decisions are when all metrics get better (or at least do not get worse).</p><p>Individuals, on the other hand, tend to favor one objective that they can directly optimize.</p><blockquote><p>Rule #40: Keep ensembles simple.</p></blockquote><p>To keep things simple, each model should either be an ensemble only taking the input of other models, or a base model taking many features, but not both.</p><blockquote><p>Rule #41: When performance plateaus, look for qualitatively new sources of information to add rather than refining existing signals.</p></blockquote><p>As in any engineering project, you have to weigh the benefit of adding new features against the cost of increased complexity.</p><blockquote><p>Rule #42: Don‚Äôt expect diversity, personalization, or relevance to be as correlated with popularity as you think they are.</p></blockquote><blockquote><p>Rule #43: Your friends tend to be the same across different products. Your interests tend not to be.</p></blockquote><h1 id=conclusion>Conclusion</h1><p>In early stage, make sure that the infrastructure is well constructed, the used model can be simple.</p><p>In main stage, focusing on the utilitarian performance and the gap between training data and test data.</p><p>When utilizing features, use simple, observable features.</p><p>When deploying models, watch out training-serving skew.</p><h1 id=reference>Reference</h1><ul><li><a class=link href=https://developers.google.com/machine-learning/guides/rules-of-ml target=_blank rel=noopener>Rules of Machine Learning</a></li></ul></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/practical-advice-for-analysis-of-large-complex-data-sets/><div class=article-details><h2 class=article-title>Practical advice for analysis of large, complex data sets</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=MaoSong2022/MaoSong2022.github.io issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Mao Song(ÊØõÊùæ)'s Homepage</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>