{{- /* Custom article list with tags - simplified version */ -}}
{{- $image := .Resources.GetMatch "cover.*" -}}

<article class="{{ if $image }}has-image{{ end }}">
    {{- if $image -}}
        <div class="article-image">
            <a href="{{ .RelPermalink }}">
                <img src="{{ $image.RelPermalink }}" 
                     alt="{{ .Title }}"
                     loading="lazy">
            </a>
        </div>
    {{- end -}}

    <div class="article-details">
        <div class="article-category">
            {{- with .Params.categories -}}
                {{ $categoriesLen := len . }}
                {{- range $index, $value := . -}}
                    <a href="{{ "categories/" | relLangURL }}{{ $value | urlize }}">
                        {{ $value }}
                    </a>
                    {{- if lt (add $index 1) $categoriesLen -}}&nbsp;{{- end -}}
                {{- end -}}
            {{- end -}}
        </div>

        <h2 class="article-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </h2>

        {{- with .Params.description -}}
            <section class="article-subtitle">
                {{ . }}
            </section>
        {{- end -}}

        <footer class="article-footer">
            <div class="article-meta">
                {{- if not .Date.IsZero -}}
                <div class="article-time">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <rect x="4" y="5" width="16" height="16" rx="2"></rect>
                        <line x1="16" y1="3" x2="16" y2="7"></line>
                        <line x1="8" y1="3" x2="8" y2="7"></line>
                        <line x1="4" y1="11" x2="20" y2="11"></line>
                    </svg>
                    <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "January 2, 2006" }}</time>
                </div>
                {{- end -}}

                {{- if .Site.Params.article.readingTime -}}
                <div class="article-time">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <circle cx="12" cy="12" r="9"></circle>
                        <polyline points="12 7 12 12 15 15"></polyline>
                    </svg>
                    <time>{{ .ReadingTime }} min read</time>
                </div>
                {{- end -}}
            </div>

            {{- /* Add tags here */ -}}
            {{- if .Params.tags -}}
            <div class="article-tags-list">
                {{- range .Params.tags -}}
                    <a href="{{ "tags/" | relLangURL }}{{ . | urlize }}" class="article-tag">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="12" height="12" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"></path>
                            <path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"></path>
                            <path d="M6 9h-.01"></path>
                        </svg>
                        {{ . }}
                    </a>
                {{- end -}}
            </div>
            {{- end -}}
        </footer>
    </div>
</article>

